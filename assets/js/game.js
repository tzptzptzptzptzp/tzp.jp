(()=>{let e=document.getElementById("js-game");document.getElementById("js-game-character").addEventListener("click",(function(){this.classList.add("move"),e.classList.add("visible")}));let t=document.querySelectorAll(".js-mole"),n=0;for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){n++,console.log(n)}));const o=()=>{n=0,e.classList.remove("visible"),new Promise((e=>{countDown=async()=>(await count(3),await count(2),await count(1),await count(0),count(""),e()),count=e=>new Promise((t=>{setTimeout((()=>{document.getElementById("js-count-down").style.display="block",document.getElementById("js-count-down").textContent=e,t()}),1e3)})),countDown()})).then((()=>{new Promise((e=>{let n=Math.floor(10*Math.random()),o=null,s=document.getElementsByClassName("active"),c=0;const l=setInterval((function(){for(n=Math.floor(4*Math.random());n==o;)n=Math.floor(4*Math.random());o=n,new Promise((e=>{for(let e=0;e<s.length;e++)s[e].classList.remove("active");e()})).then((()=>{0==n?t[0].classList.add("active"):1==n?t[1].classList.add("active"):2==n?t[2].classList.add("active"):t[3].classList.add("active"),c++})),25===c&&(clearInterval(l),setTimeout((function(){for(let e=0;e<s.length;e++)s[e].classList.remove("active");return e()}),1e3))}),1e3)})).then((()=>{document.getElementById("js-game-text").style.display="none",document.getElementById("js-game-text-result").style.display="flex",document.getElementById("js-total-point").textContent=n,n<15?(document.getElementById("js-point-judge").textContent="D",document.getElementById("js-rank-comment").textContent="ちょっとやばい！"):n<30?(document.getElementById("js-point-judge").textContent="C",document.getElementById("js-rank-comment").textContent="まだまだだな〜！"):n<45?(document.getElementById("js-point-judge").textContent="B",document.getElementById("js-rank-comment").textContent="本気出してよ〜！"):n<60?(document.getElementById("js-point-judge").textContent="A",document.getElementById("js-rank-comment").textContent="や、やるなー!!!!"):(document.getElementById("js-point-judge").textContent="S",document.getElementById("js-rank-comment").textContent="参りました、、、"),e.classList.add("visible"),console.log(n)}))}))};document.getElementById("js-start").addEventListener("click",o),document.getElementById("js-restart").addEventListener("click",o),document.getElementById("js-close").addEventListener("click",(function(){e.classList.remove("visible"),document.getElementById("js-game-character").classList.remove("move"),n=0,setTimeout((function(){document.getElementById("js-game-text").style.display="flex",document.getElementById("js-game-text-result").style.display="none"}),800)}))})();